{% extends "layout.html" %}
{% block head %}

<script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
    animationEnabled: true,
    axisX:{
        interval: 1
    },
    axisY2:{
        interlacedColor: "rgba(1,77,101,.2)",
        gridColor: "rgba(1,77,101,.1)",
    },
    data: [{
        type: "bar",
        name: "diseases",
        axisYType: "secondary",
        color: "#014D65",
        dataPoints: [
            { y: {{agg_stats[0]}}, label: "Atelectasis" },
            { y: {{agg_stats[1]}}, label: "Cardiomegaly" },
            { y: {{agg_stats[2]}}, label: "Effusion" },
            { y: {{agg_stats[3]}}, label: "Pneumonia"},
            { y: {{agg_stats[4]}}, label: "Pneumothorax"},
            { y: {{agg_stats[5]}}, label: "Nodule" },
            { y: {{agg_stats[6]}}, label: "Infiltrate" },
            { y: {{agg_stats[7]}}, label: "Consolidation" },
            { y: {{agg_stats[8]}}, label: "Edema" },
            { y: {{agg_stats[9]}}, label: "Emphysema" },
            { y: {{agg_stats[10]}}, label: "Fibrosis" },
            { y: {{agg_stats[11]}}, label: "Pleural_Thickening" },
            { y: {{agg_stats[12]}}, label: "Hernia" },
        ]
    }]
});
chart.render();
}
</script>
{% endblock head %}
{% block content%}

<div class = 'container'>
    <h1 class = 'mb-4'>Aggregated results </h1>
    <BIG>
        <p>
            The following chart summaries the numeber of positive cases in each
            of category based on the given data and a threshold of 0.5. For instance,
            a certain patient with predicted probability of pneumonia 0.56 will
            be counted as a positive case for the pneumonia group. Based on this
            result, we can have a rough estimate of prevalance of a certain
            disease in the population.
        </p>
    </BIG>
    </div>
<div id="chartContainer" class = 'container' style="height: 500px; width: 100%;"></div>

<hr>
<div class = 'container'>
<p><a href="{{ url_for('to_panel')}}"> <button type="button" class="btn pull-right">Check out the detailed analysis for each image </button> </a>
    </p>
</div>

<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
{% endblock content%}
